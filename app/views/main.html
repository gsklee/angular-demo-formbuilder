<div class="container-fluid">
    <div class="row-fluid">
        <aside class="span4">
            <ul class="nav nav-tabs">
                <li ng-repeat="nav in main.navs" ng-class="{
                    'active': $state.is(nav.state)
                }">
                    <a ui-sref="{{nav.state + nav.stateParams}}">{{nav.text}}<span ng-if="$first" ng-class="{
                        'badge': true,
                        'badge-success': !main.Form.components.isFull(),
                        'badge-warning': main.Form.components.isFull()
                    }">{{main.Form.components.length}}/{{main.Form.components.maxLength}}</span></a>
                </li>
            </ul>
            <ui-view></ui-view>
        </aside>
        <main class="span8 hero-unit">
            <div class="form-header" ui-sref="main.editForm">
                <h1>{{main.Form.title}}</h1>
                <p>{{main.Form.description}}</p>
            </div>
            <form class="form-horizontal">
                <div class="control-group" ng-repeat="component in main.Form.components" ui-sref="main.editComponent({componentId: $index})">
                    <label class="control-label">{{component.label}}</label>
                    <div class="controls">
                        <input type="{{component.type}}" ng-click="$event.stopPropagation()">
                    </div>
                </div>
            </form>
            <button class="btn btn-primary" ng-click="main.Form.save()">save</button>
        </main>
    </div>
</div>
